nohup: ignoring input
Evaluating perplexity results...
Creating judge model instance...
Judge model created successfully
Evaluating datasets:   0%|          | 0/6 [00:00<?, ?it/s]
 evaluate rag alignment - method: VectorMark
watermarked dataset: ../dataset/watermark_dataset/VectorMark_nfcorpus_g37.csv
Dataset name: VectorMark_nfcorpus_g37
Processing 191 watermarked samples
Creating Clean RAG database...
Success load vector_db nfcorpus_clean
Creating Watermarked RAG database...
Success load vector_db VectorMark_nfcorpus_g37
force to generate new results...
Generating RAG results for 50 queries...

Generating RAG results:   0%|          | 0/50 [00:00<?, ?it/s][A
Generating RAG results:   2%|▏         | 1/50 [00:17<14:34, 17.84s/it][A
Generating RAG results:   4%|▍         | 2/50 [00:20<07:05,  8.87s/it][A
Generating RAG results:   6%|▌         | 3/50 [00:25<05:45,  7.36s/it][A
Generating RAG results:   8%|▊         | 4/50 [00:29<04:19,  5.64s/it][A
Generating RAG results:  10%|█         | 5/50 [00:31<03:23,  4.53s/it][A
Generating RAG results:  12%|█▏        | 6/50 [00:34<03:00,  4.11s/it][A
Generating RAG results:  14%|█▍        | 7/50 [00:36<02:28,  3.46s/it][A
Generating RAG results:  16%|█▌        | 8/50 [00:40<02:30,  3.57s/it][A
Generating RAG results:  18%|█▊        | 9/50 [00:49<03:33,  5.21s/it][A
Generating RAG results:  20%|██        | 10/50 [00:54<03:21,  5.04s/it][A
Generating RAG results:  22%|██▏       | 11/50 [01:01<03:45,  5.77s/it][A
Generating RAG results:  24%|██▍       | 12/50 [01:05<03:21,  5.30s/it][A
Generating RAG results:  26%|██▌       | 13/50 [01:10<03:09,  5.11s/it][A
Generating RAG results:  28%|██▊       | 14/50 [01:18<03:33,  5.93s/it][A
Generating RAG results:  30%|███       | 15/50 [01:21<02:53,  4.97s/it][A
Generating RAG results:  32%|███▏      | 16/50 [01:35<04:20,  7.66s/it][A
Generating RAG results:  34%|███▍      | 17/50 [01:38<03:28,  6.32s/it][A
Generating RAG results:  36%|███▌      | 18/50 [01:43<03:07,  5.87s/it][A
Generating RAG results:  38%|███▊      | 19/50 [01:48<02:55,  5.65s/it][A
Generating RAG results:  40%|████      | 20/50 [01:50<02:21,  4.72s/it][A
Generating RAG results:  42%|████▏     | 21/50 [01:53<02:00,  4.16s/it][A
Generating RAG results:  44%|████▍     | 22/50 [02:01<02:27,  5.25s/it][A
Generating RAG results:  46%|████▌     | 23/50 [02:07<02:32,  5.64s/it][A
Generating RAG results:  48%|████▊     | 24/50 [02:16<02:48,  6.49s/it][A
Generating RAG results:  50%|█████     | 25/50 [02:24<02:54,  6.97s/it][A
Generating RAG results:  52%|█████▏    | 26/50 [02:40<03:50,  9.61s/it][A
Generating RAG results:  54%|█████▍    | 27/50 [02:52<04:00, 10.47s/it][A
Generating RAG results:  56%|█████▌    | 28/50 [02:57<03:13,  8.80s/it][A
Generating RAG results:  58%|█████▊    | 29/50 [03:01<02:33,  7.33s/it][A
Generating RAG results:  60%|██████    | 30/50 [03:08<02:26,  7.30s/it][A
Generating RAG results:  62%|██████▏   | 31/50 [03:12<01:56,  6.15s/it][A
Generating RAG results:  64%|██████▍   | 32/50 [03:14<01:28,  4.92s/it][A
Generating RAG results:  66%|██████▌   | 33/50 [03:19<01:24,  4.96s/it][A
Generating RAG results:  68%|██████▊   | 34/50 [03:31<01:51,  6.96s/it][A
Generating RAG results:  70%|███████   | 35/50 [03:35<01:34,  6.33s/it][A
Generating RAG results:  72%|███████▏  | 36/50 [03:45<01:41,  7.24s/it][A
Generating RAG results:  74%|███████▍  | 37/50 [03:51<01:29,  6.88s/it][A
Generating RAG results:  76%|███████▌  | 38/50 [03:54<01:08,  5.68s/it][A
Generating RAG results:  78%|███████▊  | 39/50 [03:57<00:53,  4.84s/it][A
Generating RAG results:  80%|████████  | 40/50 [04:02<00:50,  5.05s/it][A
Generating RAG results:  82%|████████▏ | 41/50 [04:08<00:47,  5.22s/it][A
Generating RAG results:  84%|████████▍ | 42/50 [04:12<00:38,  4.86s/it][A
Generating RAG results:  86%|████████▌ | 43/50 [04:19<00:38,  5.44s/it][A
Generating RAG results:  88%|████████▊ | 44/50 [04:22<00:29,  4.90s/it][A
Generating RAG results:  90%|█████████ | 45/50 [04:29<00:27,  5.45s/it][A
Generating RAG results:  92%|█████████▏| 46/50 [04:40<00:28,  7.17s/it][A
Generating RAG results:  94%|█████████▍| 47/50 [04:46<00:20,  6.80s/it][A
Generating RAG results:  96%|█████████▌| 48/50 [04:54<00:14,  7.03s/it][A
Generating RAG results:  98%|█████████▊| 49/50 [04:59<00:06,  6.59s/it][A
Generating RAG results: 100%|██████████| 50/50 [05:03<00:00,  5.76s/it][AGenerating RAG results: 100%|██████████| 50/50 [05:03<00:00,  6.07s/it]
Evaluating datasets:  17%|█▋        | 1/6 [13:35<1:07:57, 815.60s/it]Clean RAG results saved to: data/rag_result/VectorMark_VectorMark_nfcorpus_g37_CleanResult.json
Watermarked RAG results saved to: data/rag_result/VectorMark_VectorMark_nfcorpus_g37_WatermarkedResult.json
saved 50 clean results and 50 watermarked results

RAG Alignment Evaluation Results:
  - Method: VectorMark
  - Dataset: VectorMark_nfcorpus_g37
  - Total queries: 191
  - CDPA count: 41
  - CDPA rate: 82.0000%
  - CIRA count: 231
  - CIRA rate: 92.4000%

 evaluate rag alignment - method: VectorMark
watermarked dataset: ../dataset/watermark_dataset/VectorMark_winemag50k_g587.csv
Dataset name: VectorMark_winemag50k_g587
Processing 127 watermarked samples
Creating Clean RAG database...
Success load vector_db winemag50k_clean
Creating Watermarked RAG database...
Success load vector_db VectorMark_winemag50k_g587
force to generate new results...
Generating RAG results for 50 queries...

Generating RAG results:   0%|          | 0/50 [00:00<?, ?it/s][A
Generating RAG results:   2%|▏         | 1/50 [00:08<06:40,  8.18s/it][A
Generating RAG results:   4%|▍         | 2/50 [00:11<04:05,  5.12s/it][A
Generating RAG results:   6%|▌         | 3/50 [00:13<03:02,  3.89s/it][A
Generating RAG results:   8%|▊         | 4/50 [00:17<02:54,  3.79s/it][A
Generating RAG results:  10%|█         | 5/50 [00:20<02:40,  3.56s/it][A
Generating RAG results:  12%|█▏        | 6/50 [00:23<02:31,  3.44s/it][A
Generating RAG results:  14%|█▍        | 7/50 [00:27<02:28,  3.45s/it][A
Generating RAG results:  16%|█▌        | 8/50 [00:30<02:21,  3.38s/it][A
Generating RAG results:  18%|█▊        | 9/50 [00:32<02:08,  3.13s/it][A
Generating RAG results:  20%|██        | 10/50 [00:36<02:06,  3.17s/it][A
Generating RAG results:  22%|██▏       | 11/50 [00:39<02:04,  3.19s/it][A
Generating RAG results:  24%|██▍       | 12/50 [00:42<02:06,  3.32s/it][A
Generating RAG results:  26%|██▌       | 13/50 [00:47<02:19,  3.76s/it][A
Generating RAG results:  28%|██▊       | 14/50 [00:53<02:33,  4.26s/it][A
Generating RAG results:  30%|███       | 15/50 [00:56<02:24,  4.12s/it][A
Generating RAG results:  32%|███▏      | 16/50 [00:59<02:05,  3.70s/it][A
Generating RAG results:  34%|███▍      | 17/50 [01:02<01:57,  3.56s/it][A
Generating RAG results:  36%|███▌      | 18/50 [01:06<01:51,  3.49s/it][A
Generating RAG results:  38%|███▊      | 19/50 [01:08<01:36,  3.12s/it][A
Generating RAG results:  40%|████      | 20/50 [01:11<01:32,  3.09s/it][A
Generating RAG results:  42%|████▏     | 21/50 [01:14<01:25,  2.94s/it][A
Generating RAG results:  44%|████▍     | 22/50 [01:18<01:32,  3.30s/it][A
Generating RAG results:  46%|████▌     | 23/50 [01:21<01:30,  3.35s/it][A
Generating RAG results:  48%|████▊     | 24/50 [01:25<01:31,  3.51s/it][A
Generating RAG results:  50%|█████     | 25/50 [01:27<01:18,  3.16s/it][A
Generating RAG results:  52%|█████▏    | 26/50 [01:31<01:17,  3.24s/it][A
Generating RAG results:  54%|█████▍    | 27/50 [01:34<01:11,  3.12s/it][A
Generating RAG results:  56%|█████▌    | 28/50 [01:37<01:06,  3.04s/it][A
Generating RAG results:  58%|█████▊    | 29/50 [01:39<01:00,  2.86s/it][A
Generating RAG results:  60%|██████    | 30/50 [01:42<00:57,  2.89s/it][A
Generating RAG results:  62%|██████▏   | 31/50 [01:45<00:58,  3.08s/it][A
Generating RAG results:  64%|██████▍   | 32/50 [01:51<01:09,  3.84s/it][A
Generating RAG results:  66%|██████▌   | 33/50 [01:53<00:57,  3.38s/it][A
Generating RAG results:  68%|██████▊   | 34/50 [01:56<00:50,  3.15s/it][A
Generating RAG results:  70%|███████   | 35/50 [01:59<00:45,  3.00s/it][A
Generating RAG results:  72%|███████▏  | 36/50 [02:02<00:42,  3.02s/it][A
Generating RAG results:  74%|███████▍  | 37/50 [02:05<00:41,  3.17s/it][A
Generating RAG results:  76%|███████▌  | 38/50 [02:09<00:41,  3.44s/it][A
Generating RAG results:  78%|███████▊  | 39/50 [02:14<00:41,  3.77s/it][A
Generating RAG results:  80%|████████  | 40/50 [02:17<00:35,  3.58s/it][A
Generating RAG results:  82%|████████▏ | 41/50 [02:19<00:29,  3.25s/it][A
Generating RAG results:  84%|████████▍ | 42/50 [02:23<00:26,  3.27s/it][A
Generating RAG results:  86%|████████▌ | 43/50 [02:26<00:22,  3.20s/it][A
Generating RAG results:  88%|████████▊ | 44/50 [02:30<00:20,  3.35s/it][A
Generating RAG results:  90%|█████████ | 45/50 [02:33<00:17,  3.42s/it][A
Generating RAG results:  92%|█████████▏| 46/50 [02:37<00:13,  3.43s/it][A
Generating RAG results:  94%|█████████▍| 47/50 [02:40<00:10,  3.35s/it][A
Generating RAG results:  96%|█████████▌| 48/50 [02:44<00:07,  3.71s/it][A
Generating RAG results:  98%|█████████▊| 49/50 [02:49<00:03,  3.94s/it][A
Generating RAG results: 100%|██████████| 50/50 [02:51<00:00,  3.57s/it][AGenerating RAG results: 100%|██████████| 50/50 [02:51<00:00,  3.44s/it]
Evaluating datasets:  33%|███▎      | 2/6 [18:53<34:52, 523.04s/it]  Clean RAG results saved to: data/rag_result/VectorMark_VectorMark_winemag50k_g587_CleanResult.json
Watermarked RAG results saved to: data/rag_result/VectorMark_VectorMark_winemag50k_g587_WatermarkedResult.json
saved 50 clean results and 50 watermarked results

RAG Alignment Evaluation Results:
  - Method: VectorMark
  - Dataset: VectorMark_winemag50k_g587
  - Total queries: 127
  - CDPA count: 48
  - CDPA rate: 96.0000%
  - CIRA count: 172
  - CIRA rate: 68.8000%

 evaluate rag alignment - method: RAGWM
watermarked dataset: ../dataset/watermark_dataset/RAGWM_nfcorpus.csv
Dataset name: RAGWM_nfcorpus
Processing 107 watermarked samples
Creating Clean RAG database...
Success load vector_db nfcorpus_clean
Creating Watermarked RAG database...
Success load vector_db RAGWM_nfcorpus
force to generate new results...
Generating RAG results for 50 queries...

Generating RAG results:   0%|          | 0/50 [00:00<?, ?it/s][A
Generating RAG results:   2%|▏         | 1/50 [00:06<04:54,  6.02s/it][A
Generating RAG results:   4%|▍         | 2/50 [00:08<03:21,  4.20s/it][A
Generating RAG results:   6%|▌         | 3/50 [00:11<02:44,  3.50s/it][A
Generating RAG results:   8%|▊         | 4/50 [00:15<02:46,  3.61s/it][A
Generating RAG results:  10%|█         | 5/50 [00:18<02:27,  3.27s/it][A
Generating RAG results:  12%|█▏        | 6/50 [00:21<02:25,  3.31s/it][A
Generating RAG results:  14%|█▍        | 7/50 [00:23<02:03,  2.88s/it][A
Generating RAG results:  16%|█▌        | 8/50 [00:25<01:47,  2.55s/it][A
Generating RAG results:  18%|█▊        | 9/50 [00:37<03:53,  5.70s/it][A
Generating RAG results:  20%|██        | 10/50 [00:42<03:32,  5.31s/it][A
Generating RAG results:  22%|██▏       | 11/50 [00:49<03:46,  5.81s/it][A
Generating RAG results:  24%|██▍       | 12/50 [00:53<03:20,  5.29s/it][A
Generating RAG results:  26%|██▌       | 13/50 [00:56<02:45,  4.48s/it][A
Generating RAG results:  28%|██▊       | 14/50 [01:02<03:05,  5.16s/it][A
Generating RAG results:  30%|███       | 15/50 [01:05<02:34,  4.42s/it][A
Generating RAG results:  32%|███▏      | 16/50 [01:14<03:18,  5.84s/it][A
Generating RAG results:  34%|███▍      | 17/50 [01:20<03:13,  5.86s/it][A
Generating RAG results:  36%|███▌      | 18/50 [01:23<02:43,  5.09s/it][A
Generating RAG results:  38%|███▊      | 19/50 [01:25<02:10,  4.21s/it][A
Generating RAG results:  40%|████      | 20/50 [01:32<02:24,  4.81s/it][A
Generating RAG results:  42%|████▏     | 21/50 [01:35<02:05,  4.32s/it][A
Generating RAG results:  44%|████▍     | 22/50 [01:37<01:43,  3.68s/it][A
Generating RAG results:  46%|████▌     | 23/50 [01:44<02:08,  4.75s/it][A
Generating RAG results:  48%|████▊     | 24/50 [01:51<02:21,  5.45s/it][A
Generating RAG results:  50%|█████     | 25/50 [02:00<02:37,  6.30s/it][A
Generating RAG results:  52%|█████▏    | 26/50 [02:07<02:38,  6.62s/it][A
Generating RAG results:  54%|█████▍    | 27/50 [02:21<03:20,  8.70s/it][A
Generating RAG results:  56%|█████▌    | 28/50 [02:27<02:56,  8.04s/it][A
Generating RAG results:  58%|█████▊    | 29/50 [02:31<02:23,  6.84s/it][A
Generating RAG results:  60%|██████    | 30/50 [02:39<02:23,  7.16s/it][A
Generating RAG results:  62%|██████▏   | 31/50 [02:44<02:02,  6.47s/it][A
Generating RAG results:  64%|██████▍   | 32/50 [02:46<01:33,  5.18s/it][A
Generating RAG results:  66%|██████▌   | 33/50 [02:53<01:35,  5.60s/it][A
Generating RAG results:  68%|██████▊   | 34/50 [03:04<01:58,  7.42s/it][A
Generating RAG results:  70%|███████   | 35/50 [03:09<01:38,  6.59s/it][A
Generating RAG results:  72%|███████▏  | 36/50 [03:18<01:42,  7.30s/it][A
Generating RAG results:  74%|███████▍  | 37/50 [03:22<01:22,  6.33s/it][A
Generating RAG results:  76%|███████▌  | 38/50 [03:25<01:03,  5.27s/it][A
Generating RAG results:  78%|███████▊  | 39/50 [03:29<00:54,  4.92s/it][A
Generating RAG results:  80%|████████  | 40/50 [03:34<00:51,  5.11s/it][A
Generating RAG results:  82%|████████▏ | 41/50 [03:39<00:45,  5.03s/it][A
Generating RAG results:  84%|████████▍ | 42/50 [03:43<00:37,  4.65s/it][A
Generating RAG results:  86%|████████▌ | 43/50 [03:51<00:38,  5.50s/it][A
Generating RAG results:  88%|████████▊ | 44/50 [03:55<00:30,  5.09s/it][A
Generating RAG results:  90%|█████████ | 45/50 [03:56<00:20,  4.08s/it][A
Generating RAG results:  92%|█████████▏| 46/50 [04:06<00:23,  5.87s/it][A
Generating RAG results:  94%|█████████▍| 47/50 [04:13<00:18,  6.14s/it][A
Generating RAG results:  96%|█████████▌| 48/50 [04:21<00:13,  6.60s/it][A
Generating RAG results:  98%|█████████▊| 49/50 [04:27<00:06,  6.40s/it][A
Generating RAG results: 100%|██████████| 50/50 [04:31<00:00,  5.68s/it][AGenerating RAG results: 100%|██████████| 50/50 [04:31<00:00,  5.43s/it]
Evaluating datasets:  50%|█████     | 3/6 [31:45<31:49, 636.59s/it]Clean RAG results saved to: data/rag_result/RAGWM_RAGWM_nfcorpus_CleanResult.json
Watermarked RAG results saved to: data/rag_result/RAGWM_RAGWM_nfcorpus_WatermarkedResult.json
saved 50 clean results and 50 watermarked results

RAG Alignment Evaluation Results:
  - Method: RAGWM
  - Dataset: RAGWM_nfcorpus
  - Total queries: 107
  - CDPA count: 43
  - CDPA rate: 86.0000%
  - CIRA count: 235
  - CIRA rate: 94.0000%

 evaluate rag alignment - method: RAGWM
watermarked dataset: ../dataset/watermark_dataset/RAGWM_winemag50k.csv
Dataset name: RAGWM_winemag50k
Processing 100 watermarked samples
Creating Clean RAG database...
Success load vector_db winemag50k_clean
Creating Watermarked RAG database...
Success load vector_db RAGWM_winemag50k
force to generate new results...
Generating RAG results for 50 queries...

Generating RAG results:   0%|          | 0/50 [00:00<?, ?it/s][A
Generating RAG results:   2%|▏         | 1/50 [00:07<05:56,  7.27s/it][A
Generating RAG results:   4%|▍         | 2/50 [00:10<04:05,  5.11s/it][A
Generating RAG results:   6%|▌         | 3/50 [00:13<03:08,  4.01s/it][A
Generating RAG results:   8%|▊         | 4/50 [00:17<03:12,  4.18s/it][A
Generating RAG results:  10%|█         | 5/50 [00:21<02:51,  3.81s/it][A
Generating RAG results:  12%|█▏        | 6/50 [00:24<02:43,  3.70s/it][A
Generating RAG results:  14%|█▍        | 7/50 [00:27<02:31,  3.53s/it][A
Generating RAG results:  16%|█▌        | 8/50 [00:31<02:28,  3.53s/it][A
Generating RAG results:  18%|█▊        | 9/50 [00:34<02:16,  3.32s/it][A
Generating RAG results:  20%|██        | 10/50 [00:37<02:17,  3.44s/it][A
Generating RAG results:  22%|██▏       | 11/50 [00:41<02:12,  3.39s/it][A
Generating RAG results:  24%|██▍       | 12/50 [00:45<02:24,  3.79s/it][A
Generating RAG results:  26%|██▌       | 13/50 [00:48<02:10,  3.53s/it][A
Generating RAG results:  28%|██▊       | 14/50 [00:52<02:12,  3.69s/it][A
Generating RAG results:  30%|███       | 15/50 [00:56<02:09,  3.69s/it][A
Generating RAG results:  32%|███▏      | 16/50 [00:59<02:00,  3.55s/it][A
Generating RAG results:  34%|███▍      | 17/50 [01:03<01:53,  3.45s/it][A
Generating RAG results:  36%|███▌      | 18/50 [01:06<01:49,  3.43s/it][A
Generating RAG results:  38%|███▊      | 19/50 [01:08<01:36,  3.10s/it][A
Generating RAG results:  40%|████      | 20/50 [01:11<01:33,  3.12s/it][A
Generating RAG results:  42%|████▏     | 21/50 [01:14<01:24,  2.90s/it][A
Generating RAG results:  44%|████▍     | 22/50 [01:17<01:23,  2.99s/it][A
Generating RAG results:  46%|████▌     | 23/50 [01:22<01:36,  3.58s/it][A
Generating RAG results:  48%|████▊     | 24/50 [01:26<01:35,  3.67s/it][A
Generating RAG results:  50%|█████     | 25/50 [01:28<01:21,  3.27s/it][A
Generating RAG results:  52%|█████▏    | 26/50 [01:31<01:18,  3.26s/it][A
Generating RAG results:  54%|█████▍    | 27/50 [01:34<01:13,  3.18s/it][A
Generating RAG results:  56%|█████▌    | 28/50 [01:37<01:07,  3.05s/it][A
Generating RAG results:  58%|█████▊    | 29/50 [01:41<01:06,  3.18s/it][A
Generating RAG results:  60%|██████    | 30/50 [01:44<01:04,  3.22s/it][A
Generating RAG results:  62%|██████▏   | 31/50 [01:48<01:07,  3.53s/it][A
Generating RAG results:  64%|██████▍   | 32/50 [01:53<01:10,  3.92s/it][A
Generating RAG results:  66%|██████▌   | 33/50 [01:56<01:00,  3.56s/it][A
Generating RAG results:  68%|██████▊   | 34/50 [01:59<00:53,  3.37s/it][A
Generating RAG results:  70%|███████   | 35/50 [02:03<00:54,  3.61s/it][A
Generating RAG results:  72%|███████▏  | 36/50 [02:06<00:47,  3.41s/it][A
Generating RAG results:  74%|███████▍  | 37/50 [02:09<00:44,  3.41s/it][A
Generating RAG results:  76%|███████▌  | 38/50 [02:12<00:39,  3.28s/it][A
Generating RAG results:  78%|███████▊  | 39/50 [02:17<00:40,  3.71s/it][A
Generating RAG results:  80%|████████  | 40/50 [02:20<00:35,  3.54s/it][A
Generating RAG results:  82%|████████▏ | 41/50 [02:23<00:30,  3.38s/it][A
Generating RAG results:  84%|████████▍ | 42/50 [02:26<00:26,  3.31s/it][A
Generating RAG results:  86%|████████▌ | 43/50 [02:29<00:23,  3.31s/it][A
Generating RAG results:  88%|████████▊ | 44/50 [02:34<00:21,  3.52s/it][A
Generating RAG results:  90%|█████████ | 45/50 [02:37<00:17,  3.43s/it][A
Generating RAG results:  92%|█████████▏| 46/50 [02:40<00:13,  3.46s/it][A
Generating RAG results:  94%|█████████▍| 47/50 [02:43<00:10,  3.34s/it][A
Generating RAG results:  96%|█████████▌| 48/50 [02:47<00:06,  3.43s/it][A
Generating RAG results:  98%|█████████▊| 49/50 [02:50<00:03,  3.34s/it][A
Generating RAG results: 100%|██████████| 50/50 [02:54<00:00,  3.62s/it][AGenerating RAG results: 100%|██████████| 50/50 [02:54<00:00,  3.50s/it]
Evaluating datasets:  67%|██████▋   | 4/6 [37:43<17:32, 526.46s/it]Clean RAG results saved to: data/rag_result/RAGWM_RAGWM_winemag50k_CleanResult.json
Watermarked RAG results saved to: data/rag_result/RAGWM_RAGWM_winemag50k_WatermarkedResult.json
saved 50 clean results and 50 watermarked results

RAG Alignment Evaluation Results:
  - Method: RAGWM
  - Dataset: RAGWM_winemag50k
  - Total queries: 100
  - CDPA count: 46
  - CDPA rate: 92.0000%
  - CIRA count: 117
  - CIRA rate: 46.8000%

 evaluate rag alignment - method: WARD
watermarked dataset: ../dataset/watermark_dataset/WARD_nfcorpus_191.csv
Dataset name: WARD_nfcorpus_191
Processing 191 watermarked samples
Creating Clean RAG database...
Success load vector_db nfcorpus_clean
Creating Watermarked RAG database...
Success load vector_db WARD_nfcorpus_191
force to generate new results...
Generating RAG results for 50 queries...

Generating RAG results:   0%|          | 0/50 [00:00<?, ?it/s][A
Generating RAG results:   2%|▏         | 1/50 [00:10<08:29, 10.40s/it][A
Generating RAG results:   4%|▍         | 2/50 [00:12<04:38,  5.80s/it][A
Generating RAG results:   6%|▌         | 3/50 [00:15<03:24,  4.35s/it][A
Generating RAG results:   8%|▊         | 4/50 [00:18<02:54,  3.79s/it][A
Generating RAG results:  10%|█         | 5/50 [00:21<02:32,  3.40s/it][A
Generating RAG results:  12%|█▏        | 6/50 [00:24<02:28,  3.38s/it][A
Generating RAG results:  14%|█▍        | 7/50 [00:26<02:10,  3.04s/it][A
Generating RAG results:  16%|█▌        | 8/50 [00:29<01:56,  2.78s/it][A
Generating RAG results:  18%|█▊        | 9/50 [00:41<04:02,  5.92s/it][A
Generating RAG results:  20%|██        | 10/50 [00:47<03:56,  5.90s/it][A
Generating RAG results:  22%|██▏       | 11/50 [00:54<04:01,  6.18s/it][A
Generating RAG results:  24%|██▍       | 12/50 [00:58<03:27,  5.45s/it][A
Generating RAG results:  26%|██▌       | 13/50 [01:04<03:32,  5.74s/it][A
Generating RAG results:  28%|██▊       | 14/50 [01:09<03:19,  5.54s/it][A
Generating RAG results:  30%|███       | 15/50 [01:12<02:42,  4.64s/it][A
Generating RAG results:  32%|███▏      | 16/50 [01:26<04:13,  7.46s/it][A
Generating RAG results:  34%|███▍      | 17/50 [01:32<03:48,  6.93s/it][A
Generating RAG results:  36%|███▌      | 18/50 [01:34<03:00,  5.64s/it][A
Generating RAG results:  38%|███▊      | 19/50 [01:40<02:52,  5.57s/it][A
Generating RAG results:  40%|████      | 20/50 [01:46<02:54,  5.82s/it][A
Generating RAG results:  42%|████▏     | 21/50 [01:49<02:27,  5.09s/it][A
Generating RAG results:  44%|████▍     | 22/50 [02:02<03:27,  7.41s/it][A
Generating RAG results:  46%|████▌     | 23/50 [02:09<03:15,  7.25s/it][A
Generating RAG results:  48%|████▊     | 24/50 [02:18<03:17,  7.61s/it][A
Generating RAG results:  50%|█████     | 25/50 [02:26<03:13,  7.73s/it][A
Generating RAG results:  52%|█████▏    | 26/50 [02:41<03:59,  9.97s/it][A
Generating RAG results:  54%|█████▍    | 27/50 [02:45<03:09,  8.25s/it][A
Generating RAG results:  56%|█████▌    | 28/50 [02:49<02:30,  6.86s/it][A
Generating RAG results:  58%|█████▊    | 29/50 [02:53<02:05,  5.98s/it][A
Generating RAG results:  60%|██████    | 30/50 [02:59<02:01,  6.10s/it][A
Generating RAG results:  62%|██████▏   | 31/50 [03:04<01:52,  5.91s/it][A
Generating RAG results:  64%|██████▍   | 32/50 [03:08<01:31,  5.06s/it][A
Generating RAG results:  66%|██████▌   | 33/50 [03:13<01:26,  5.08s/it][A
Generating RAG results:  68%|██████▊   | 34/50 [03:25<01:55,  7.22s/it][A
Generating RAG results:  70%|███████   | 35/50 [03:30<01:37,  6.52s/it][A
Generating RAG results:  72%|███████▏  | 36/50 [03:35<01:27,  6.26s/it][A
Generating RAG results:  74%|███████▍  | 37/50 [03:42<01:23,  6.43s/it][A
Generating RAG results:  76%|███████▌  | 38/50 [03:44<01:01,  5.14s/it][A
Generating RAG results:  78%|███████▊  | 39/50 [03:48<00:50,  4.55s/it][A
Generating RAG results:  80%|████████  | 40/50 [03:53<00:48,  4.80s/it][A
Generating RAG results:  82%|████████▏ | 41/50 [03:58<00:43,  4.87s/it][A
Generating RAG results:  84%|████████▍ | 42/50 [04:02<00:37,  4.63s/it][A
Generating RAG results:  86%|████████▌ | 43/50 [04:09<00:38,  5.48s/it][A
Generating RAG results:  88%|████████▊ | 44/50 [04:13<00:29,  4.84s/it][A
Generating RAG results:  90%|█████████ | 45/50 [04:19<00:26,  5.35s/it][A
Generating RAG results:  92%|█████████▏| 46/50 [04:30<00:27,  6.86s/it][A
Generating RAG results:  94%|█████████▍| 47/50 [04:37<00:20,  6.95s/it][A
Generating RAG results:  96%|█████████▌| 48/50 [04:45<00:14,  7.26s/it][A
Generating RAG results:  98%|█████████▊| 49/50 [04:51<00:06,  6.83s/it][A
Generating RAG results: 100%|██████████| 50/50 [04:55<00:00,  5.95s/it][AGenerating RAG results: 100%|██████████| 50/50 [04:55<00:00,  5.90s/it]
Evaluating datasets:  83%|████████▎ | 5/6 [54:56<11:49, 709.26s/it]Clean RAG results saved to: data/rag_result/WARD_WARD_nfcorpus_191_CleanResult.json
Watermarked RAG results saved to: data/rag_result/WARD_WARD_nfcorpus_191_WatermarkedResult.json
saved 50 clean results and 50 watermarked results

RAG Alignment Evaluation Results:
  - Method: WARD
  - Dataset: WARD_nfcorpus_191
  - Total queries: 191
  - CDPA count: 42
  - CDPA rate: 84.0000%
  - CIRA count: 213
  - CIRA rate: 85.2000%

 evaluate rag alignment - method: WARD
watermarked dataset: ../dataset/watermark_dataset/WARD_winemag50k_127.csv
Dataset name: WARD_winemag50k_127
Processing 127 watermarked samples
Creating Clean RAG database...
Success load vector_db winemag50k_clean
Creating Watermarked RAG database...
Success load vector_db WARD_winemag50k_127
force to generate new results...
Generating RAG results for 50 queries...

Generating RAG results:   0%|          | 0/50 [00:00<?, ?it/s][A
Generating RAG results:   2%|▏         | 1/50 [00:07<05:49,  7.13s/it][A
Generating RAG results:   4%|▍         | 2/50 [00:10<03:45,  4.69s/it][A
Generating RAG results:   6%|▌         | 3/50 [00:12<02:53,  3.69s/it][A
Generating RAG results:   8%|▊         | 4/50 [00:15<02:41,  3.52s/it][A
Generating RAG results:  10%|█         | 5/50 [00:18<02:27,  3.27s/it][A
Generating RAG results:  12%|█▏        | 6/50 [00:21<02:22,  3.23s/it][A
Generating RAG results:  14%|█▍        | 7/50 [00:25<02:25,  3.38s/it][A
Generating RAG results:  16%|█▌        | 8/50 [00:28<02:19,  3.32s/it][A
Generating RAG results:  18%|█▊        | 9/50 [00:31<02:04,  3.04s/it][A
Generating RAG results:  20%|██        | 10/50 [00:34<02:06,  3.16s/it][A
Generating RAG results:  22%|██▏       | 11/50 [00:37<02:02,  3.14s/it][A
Generating RAG results:  24%|██▍       | 12/50 [00:41<02:12,  3.50s/it][A
Generating RAG results:  26%|██▌       | 13/50 [00:45<02:04,  3.36s/it][A
Generating RAG results:  28%|██▊       | 14/50 [00:48<02:02,  3.41s/it][A
Generating RAG results:  30%|███       | 15/50 [00:52<01:59,  3.43s/it][A
Generating RAG results:  32%|███▏      | 16/50 [00:54<01:49,  3.22s/it][A
Generating RAG results:  34%|███▍      | 17/50 [00:58<01:46,  3.23s/it][A
Generating RAG results:  36%|███▌      | 18/50 [01:01<01:44,  3.26s/it][A
Generating RAG results:  38%|███▊      | 19/50 [01:03<01:32,  2.99s/it][A
Generating RAG results:  40%|████      | 20/50 [01:06<01:31,  3.04s/it][A
Generating RAG results:  42%|████▏     | 21/50 [01:09<01:24,  2.91s/it][A
Generating RAG results:  44%|████▍     | 22/50 [01:12<01:23,  2.98s/it][A
Generating RAG results:  46%|████▌     | 23/50 [01:16<01:29,  3.33s/it][A
Generating RAG results:  48%|████▊     | 24/50 [01:20<01:31,  3.53s/it][A
Generating RAG results:  50%|█████     | 25/50 [01:22<01:18,  3.14s/it][A
Generating RAG results:  52%|█████▏    | 26/50 [01:26<01:16,  3.18s/it][A
Generating RAG results:  54%|█████▍    | 27/50 [01:29<01:11,  3.13s/it][A
Generating RAG results:  56%|█████▌    | 28/50 [01:32<01:07,  3.09s/it][A
Generating RAG results:  58%|█████▊    | 29/50 [01:37<01:19,  3.77s/it][A
Generating RAG results:  60%|██████    | 30/50 [01:40<01:11,  3.56s/it][A
Generating RAG results:  62%|██████▏   | 31/50 [01:44<01:08,  3.62s/it][A
Generating RAG results:  64%|██████▍   | 32/50 [01:49<01:13,  4.07s/it][A
Generating RAG results:  66%|██████▌   | 33/50 [01:52<01:04,  3.78s/it][A
Generating RAG results:  68%|██████▊   | 34/50 [01:55<00:55,  3.45s/it][A
Generating RAG results:  70%|███████   | 35/50 [01:58<00:49,  3.31s/it][A
Generating RAG results:  72%|███████▏  | 36/50 [02:01<00:45,  3.25s/it][A
Generating RAG results:  74%|███████▍  | 37/50 [02:04<00:42,  3.30s/it][A
Generating RAG results:  76%|███████▌  | 38/50 [02:07<00:37,  3.13s/it][A
Generating RAG results:  78%|███████▊  | 39/50 [02:12<00:38,  3.52s/it][A
Generating RAG results:  80%|████████  | 40/50 [02:15<00:34,  3.46s/it][A
Generating RAG results:  82%|████████▏ | 41/50 [02:17<00:28,  3.19s/it][A
Generating RAG results:  84%|████████▍ | 42/50 [02:21<00:25,  3.21s/it][A
Generating RAG results:  86%|████████▌ | 43/50 [02:24<00:22,  3.19s/it][A
Generating RAG results:  88%|████████▊ | 44/50 [02:28<00:20,  3.41s/it][A
Generating RAG results:  90%|█████████ | 45/50 [02:32<00:17,  3.53s/it][A
Generating RAG results:  92%|█████████▏| 46/50 [02:35<00:13,  3.46s/it][A
Generating RAG results:  94%|█████████▍| 47/50 [02:38<00:10,  3.35s/it][A
Generating RAG results:  96%|█████████▌| 48/50 [02:41<00:06,  3.27s/it][A
Generating RAG results:  98%|█████████▊| 49/50 [02:45<00:03,  3.44s/it][A
Generating RAG results: 100%|██████████| 50/50 [02:48<00:00,  3.26s/it][AGenerating RAG results: 100%|██████████| 50/50 [02:48<00:00,  3.36s/it]
Evaluating datasets: 100%|██████████| 6/6 [1:02:06<00:00, 614.25s/it]Evaluating datasets: 100%|██████████| 6/6 [1:02:06<00:00, 621.06s/it]
Clean RAG results saved to: data/rag_result/WARD_WARD_winemag50k_127_CleanResult.json
Watermarked RAG results saved to: data/rag_result/WARD_WARD_winemag50k_127_WatermarkedResult.json
saved 50 clean results and 50 watermarked results

RAG Alignment Evaluation Results:
  - Method: WARD
  - Dataset: WARD_winemag50k_127
  - Total queries: 127
  - CDPA count: 48
  - CDPA rate: 96.0000%
  - CIRA count: 169
  - CIRA rate: 67.6000%

================================================================================
RAG Evaluation Results
================================================================================
    Method    Dataset Text_Column   CDPA   CIRA
VectorMark   nfcorpus        text 0.8200 0.9240
VectorMark Winemag50k description 0.9600 0.6880
     RAGWM   nfcorpus        text 0.8600 0.9400
     RAGWM Winemag50k description 0.9200 0.4680
      WARD   NFCorpus        text 0.8400 0.8520
      WARD winemag50k description 0.9600 0.6760
================================================================================
